<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<link rel="stylesheet" href="css/bootstrap.css" />

	<script src="js/jquery-3.5.1.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<h2 style="text-align: center;">Add Book</h2>
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

	<title>Add Book</title>
	<style>
body {
	background-color: #F8F8F8;
}

h1 {
	text-align: center;
	margin-top: 50px;
	margin-bottom: 30px;
}

form {
	width: 100%;
	margin: 0 auto;
	background-color: #fff;
	padding: 30px;
	border-radius: 100px;
	box-shadow: 0px 0px 10px #ccc;
}

.calendar-container {
	position: relative;
}

.calendar-icon {
	position: absolute;
	top: 50%;
	right: 0.5em;
	transform: translateY(-50%);
	pointer-events: none;
	color: #999;
	font-size: 16px;
}

label {
	font-weight: bold;
	font-size: 16px;
}

.back-button, .save-button {
	display: inline-block;
	padding: 10px 20px;
	font-size: 16px;
	text-align: center;
	text-decoration: none;
	width: 150px; /* Adjust the width as needed */
	box-sizing: border-box;
}

.back-button {
	margin-right: 10px; /* Add some spacing between buttons if desired */
}

input[type="text"], input[type="password"] {
	width: 100%;
	padding: 10px;
	margin-bottom: 10px;
	border: none;
	border-radius: 5px;
	box-shadow: 0px 0px 5px #ccc;
}

input[type="submit"] {
	background-color: #007bff;
	color: #fff;
	border: none;
	border-radius: 5px;
	padding: 10px 20px;
	font-size: 16px;
	cursor: pointer;
}

.error {
	color: red;
	margin-bottom: 10px;
}

.success {
	color: green;
	margin-bottom: 10px;
}

.button-container {
	display: flex;
	justify-content: space-between;
}

.save-button, .back-button {
	flex: 1;
}

.input-icon-container {
	display: flex;
	align-items: center;
}

.watermark-icon {
	margin-right: 10px;
	color: red;
}

.input-icon-container {
	display: flex;
	align-items: center;
}

.watermark-icon {
	margin-right: 10px;
	color: red;
}

.input-icon-container {
	display: flex;
	align-items: center;
}

.watermark-icon {
	margin-right: 10px;
	color: red;
}

.calendar-container {
	position: relative;
}

.calendar-icon {
	position: absolute;
	right: 10px;
	top: 50%;
	transform: translateY(-50%);
	color: red;
}

.input-group-text .icon-red {
	color: red;
}
</style>
</h:head>
<h:body>

	<!-- <ui:include src="Navbar.xhtml" />  -->
	<br />
	<div class="container">
		<div class="row">
			<div class="col-sm-6 mx-auto">
				<h:form id="bookForm">

					<div class="form-group">
						<h:outputLabel for="name" value="Book Name: " />
						<div class="input-icon-container">
							<i class="fa fa-book watermark-icon" aria-hidden="true"></i>
							<h:inputText id="name" value="#{books.name}" required="true"
								class="form-control" requiredMessage="Book name is required"
								validatorMessage="Book name can only contain alphabets and numbers. Length must be between 4 and 20 characters.">
								<f:validateRegex pattern="^[A-Za-z0-9]+$" />
								<f:validateLength minimum="4" maximum="20"></f:validateLength>
							</h:inputText>
						</div>
						<h:message for="name" style="color: red;" />
					</div>


					<div class="form-group">
						<h:outputLabel for="author" value="Author: " />
						<div class="input-icon-container">
							<i class="fa fa-user watermark-icon" aria-hidden="true"></i>
							<h:inputText id="author" value="#{books.author}" required="true"
								class="form-control" requiredMessage="Author name is required"
								validatorMessage="Author name can only contain alphabets and numbers. Length must be between 4 and 20 characters.">
								<f:validateRegex pattern="^[A-Za-z0-9]+$" />
								<f:validateLength minimum="4" maximum="20" />
							</h:inputText>
						</div>
						<h:message for="author" style="color: red;" />
					</div>


					<div class="form-group">
						<h:outputLabel for="dept" value="Department: " />
						<div class="input-icon-container">
							<i class="fa fa-building watermark-icon" aria-hidden="true"></i>
							<h:inputText id="dept" value="#{books.dept}" required="true"
								class="form-control" requiredMessage="Department is required"
								validatorMessage="Department can only contain alphabets.Length must be between 4 and 20 characters. ">
								<f:validateRegex pattern="^[A-Za-z\s]+[A-Za-z\s]$" />
								<f:validateLength minimum="4" maximum="50"></f:validateLength>
							</h:inputText>
						</div>
						<h:message for="dept" style="color: red;" />
					</div>

					<div class="form-group">
						<h:outputLabel for="edition" value="Edition: " />
						<div class="input-icon-container">
							<i class="fa fa-book watermark-icon" aria-hidden="true"></i>
							<h:inputText id="edition" value="#{books.edition}"
								required="true" class="form-control"
								requiredMessage="Edition is required"
								validatorMessage="Please enter the edition in the format of 'Xth Edition', e.g., '5th Edition'.">
								<f:validateRegex pattern="^\d+(?:st|nd|rd|th)\s+Edition$" />
							</h:inputText>
						</div>
						<h:message for="edition" style="color: red;" />
					</div>

					<div class="form-group">
						<h:outputLabel for="totalBooks" value="Total Books: " />
						<h:inputText id="totalBooks" value="#{books.totalBooks}"
							required="true" styleClass="form-control"
							validatorMessage="Books added range is 1 to 300">
							<f:validateLongRange minimum="1" maximum="300" />
						</h:inputText>
						<h:message for="totalBooks" style="color: red;" />
					</div>

					<div class="button-container">
						<h:commandButton value="Add Book"
							action="#{LibraryDAO.addBook(books)}"
							styleClass="btn btn-primary" />
						<a href="adminpanel.jsp" class="btn btn-dark back-button">Back</a>
					</div>

					<h5>
						<h:message for="bookForm" style="color:black;" />
					</h5>

				</h:form>
			</div>
		</div>
	</div>
</h:body>
</html>
