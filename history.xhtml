<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<head>
    <meta charset="UTF-8" />
    <title>History</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" />
    <!-- Custom CSS -->
    <style>
        body {
            background-color: #f8f9fa;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
        }

        table {
            background-color: #fff;
            border-collapse: collapse;
            width: 100%;
            margin: 0 auto;
            margin-bottom: 20px;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border: 1px solid #ddd;
        }

        th {
            background-color: #17a2b8;
            color: #fff;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <h1>History</h1>
    <table class="table">
        <thead class="thead-dark">
            <tr>
                <th>TID</th>
                <th>Book ID</th>
                <th>Name</th>
                <th>From Date</th>
                <th>To Date</th>
                <th>No. of Days</th>
                <th>Fine</th>
            </tr>
        </thead>
        <tbody>
            <ui:repeat value="#{LibraryDAO.history(user)}" var="history">
                <tr>
                    <td><h:outputText value="#{history.tid}" /></td>
                    <td><h:outputText value="#{history.bookId}" /></td>
                    <td><h:outputText value="#{history.username}" /></td>
                    <td><h:outputText value="#{history.fromDate}" /></td>
                    <td><h:outputText value="#{history.todate}" /></td>
                    <td><h:outputText value="#{LibraryDAO.noOfDays(history.fromDate, history.todate)}" /></td>
                    <td><h:outputText value="#{LibraryDAO.calculateFine(LibraryDAO.noOfDays(history.fromDate, history.todate))}" /></td>
                </tr>
            </ui:repeat>
        </tbody>
    </table>

    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>
